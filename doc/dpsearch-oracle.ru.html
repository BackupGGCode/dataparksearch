<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>Oracle notes

</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="DataparkSearch Engine 4.52"
HREF="index.ru.html"><LINK
REL="UP"
TITLE="Хранение данных"
HREF="dpsearch-howstore.ru.html"><LINK
REL="PREVIOUS"
TITLE="Поддержка SearchD

"
HREF="dpsearch-searchd.ru.html"><LINK
REL="NEXT"
TITLE="Подсекции"
HREF="dpsearch-subsections.ru.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="datapark.css"><META
NAME="Description"
CONTENT="DataparkSearch - Полнофункциональная поисковая машина для Интернета и Интранета с открытым исходным кодом. Распространяется по лицензии GNU."><META
NAME="Keywords"
CONTENT="shareware, freeware, интернет, unix, поисковик, поисковая машина, поиск, поиск информации, интранет, open source, opensource, search, searching, software, udmsearch, engine, indexing, system, web, ftp, http, cgi, php, SQL, MySQL, database, php3, FreeBSD, Linux, Unix, DataparkSearch, MacOS X, Mac OS X, Windows, 2000, NT, 95, 98, GNU, GPL, url, grabbing"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000C4"
VLINK="#1200B2"
ALINK="#C40000"
><!--#include virtual="body-before.html"--><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>DataparkSearch Engine 4.52: Справочное руководство</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="dpsearch-searchd.ru.html"
ACCESSKEY="P"
>&#1055;&#1088;&#1077;&#1076;.</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>&#1043;&#1083;&#1072;&#1074;&#1072; 5. Хранение данных</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="dpsearch-subsections.ru.html"
ACCESSKEY="N"
>&#1057;&#1083;&#1077;&#1076;.</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="oracle"
>5.5. Oracle notes
<A
NAME="AEN3333"
></A
></A
></H1
>
	
	<DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="oracle-intro"
>5.5.1. Introduction</A
></H2
>
		
		<P
>By Anton Zemlyanov <CODE
CLASS="email"
>&#60;<A
HREF="mailto:az@hotmail.ru"
>az@hotmail.ru</A
>&#62;</CODE
>
		</P
>
		<DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="oracle-why"
>5.5.1.1. Why Oracle?</A
></H3
>
			
			<P
>Oracle is a powerful, tunable, scalable
and reliable industrial RDBMS. It provides some functionalities which
are absent in simple freeware RDBMS like MySQL and PostgresSQL, such
as: transactions support, concurrency and consistency, data integrity,
partitioning, replication, cost-based and rule-based optimizers,
parallel execution, redo logs, RAW devices and many other
features. Although Oracle is a very functional database, the
additional qualities like reliability impose some overhead. In fact,
providing many advantages Oracle has some disadvantages. For example
great tenability requires more experienced DBA, redo logs support
provide great reliability against instance and media failures but
requires more efficient disk system. I think you should select Oracle
as a database for mnoGoSearch if you want to search through hundreds
of megabytes or several gigabytes of information, reliability is one
of the primary concerns, need high availability of the database, and
you are ready to pay higher sums for hardware and Oracle DBA to
achieve better quality of service. </P
>

		</DIV
>
		<DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="oracle-req"
>5.5.1.2. mnoGoSearch+Oracle8 Installation Requirements</A
></H3
>
			
			<P
>In order to install mnoGoSearch with Oracle RDBMS support you must ensure the following requirements:</P
>
			<P
></P
><UL
><LI
>&#13;					<P
>Oracle8 Server must be
properly installed on any computer accessible from the site where
mnoGoSearch are to be installed. See the documentation provided with
your Oracle server. </P
>

				</LI
><LI
>&#13;					<P
>Oracle client software
and libraries must be installed on the site where you plan to install
mnoGoSearch. I strongly recommend to install utilities also, it help
you to test the client and server accessibility. </P
>

				</LI
><LI
>&#13;					<P
>glibc 2.0 or glibc 2.1. Oracle 8.0.5.X libraries are built for glibc 2.0.</P
>
				</LI
></UL
>
		</DIV
>
		<DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="oracle-platforms"
>5.5.1.3. Currently supported/tested platforms</A
></H3
>
			
			<P
>Oracle versions:</P
>
			<P
></P
><UL
><LI
>&#13;					<P
>Oracle 8.0.5.X </P
>
				</LI
></UL
>
			<P
>Operation systems:</P
>
			<P
></P
><UL
><LI
>&#13;					<P
>Linux RedHat 6.1 (2.2.X + glibc 2.0) </P
>
				</LI
></UL
>
			<P
>Oracle Server may be ran on any platform
supporting tcp/ip connections. I see no difficulties to port
mnoGoSearch Oracle driver to any commercial and freeware unix systems,
any contribution is appreciated. </P
>

		</DIV
>
	</DIV
>
	<DIV
CLASS="sect2"
><H2
CLASS="sect2"
><A
NAME="oracle-install"
>5.5.2. Compilation, Installation and Configuration</A
></H2
>
		
		<DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="oracle-compil"
>5.5.2.1. Compilation</A
></H3
>
			
			<P
>Oracle 8.0.5.X and Linux RedHat 6.1</P
>
			<P
>&#13;				<PRE
CLASS="programlisting"
>&#13;./Configure --with-oracle8=oracle_home_dir
make
make install
</PRE
>
			</P
>
			<P
>If you have any troubles, try to put
<TT
CLASS="literal"
>CC = i386-glibc20-linux-gcc</TT
> in the
<TT
CLASS="filename"
>src/Makefile</TT
>, this is old version of gcc compiler
for glibc 2.0. </P
>

		</DIV
>
		<DIV
CLASS="sect3"
><H3
CLASS="sect3"
><A
NAME="oracle-install-config"
>5.5.2.2. Installation and Configuration</A
></H3
>
			
			<P
>&#13;				<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Check whether Oracle Server and Oracle Client work properly.</I
></SPAN
>
			</P
>
			<P
>First, try mnoGoSearch service is accessible
			<PRE
CLASS="programlisting"
>&#13;
 [oracle@ant oracle]$ tnsping mnoGoSearch 3

TNS Ping Utility for Linux: Version 8.0.5.0.0 - Production on 29-FEB-00 09:46:12
(c) Copyright 1997 Oracle Corporation.  All rights reserved.

Attempting to contact (ADDRESS=(PROTOCOL=TCP)(Host=ant.gpovz.ru)(Port=1521))
OK (10 msec)
OK (0 msec)
OK (10 msec)

</PRE
>
			</P
>
			<P
>Second, try to connect to Oracle Server with svrmgrl and check whether mnoGoSearch tables were created
			<PRE
CLASS="programlisting"
>&#13;[oracle@ant oracle]$ svrmgrl command='connect scott/tiger@mnoGoSearch'

Oracle Server Manager Release 3.0.5.0.0 - Production

(c) Copyright 1997, Oracle Corporation.  All Rights Reserved.

Oracle8 Release 8.0.5.1.0 - Production
PL/SQL Release 8.0.5.1.0 - Production

Connected.
SVRMGR&#62; SELECT table_name FROM user_tables;
TABLE_NAME
------------------------------
DICT
DICT10
DICT11
DICT12
DICT16
DICT2
DICT3
DICT32
DICT4
DICT5
DICT6
DICT7
DICT8
DICT9
PERFTEST
ROBOTS
STOPWORD
TAB1
URL
19 rows selected.
</PRE
>
			</P
>
			<P
>&#13;				<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Check the library paths in /etc/ld.so.conf</I
></SPAN
>
			</P
>
			<P
>&#13;				<PRE
CLASS="programlisting"
>&#13;[oracle@ant oracle]$ cat /etc/ld.so.conf
/usr/X11R6/lib
/usr/lib
/usr/i486-linux-libc5/lib
/usr/lib/qt-2.0.1/lib
/usr/lib/qt-1.44/lib
/oracle8/app/oracle/product/8.0.5/lib
</PRE
>
			</P
>
			<P
>This file should contain line
<TT
CLASS="literal"
>oracle_home_path/lib</TT
> to ensure mnoGoSearch will be
able to open libclntsh.so, the shared Oracle Client library</P
>

			<P
>&#13;				<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Make symbolic link:</I
></SPAN
>
			</P
>
			<P
>&#13;				<KBD
CLASS="userinput"
>&#13;ln -s /oracle8/app/oracle/product/8.0.5/network/admin/tnsnames.ora /etc
</KBD
>
			</P
>
			<P
>&#13;				<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Correct the indexer.conf file</I
></SPAN
>
			</P
>
			<P
>You should specify
<CODE
CLASS="option"
>DBName</CODE
>, <CODE
CLASS="option"
>DBUser</CODE
>,
<CODE
CLASS="option"
>DBPass</CODE
> in order that mnoGoSearch can connect to
Oracle Server. DBName is the service name, it should have the same
name that was written to <TT
CLASS="filename"
>tnsnames.ora</TT
> file,
DBUSer and DBPass are Oracle user and his password
correspondingly. You can run indexer now. </P
>

			<P
>&#13;				<SPAN
CLASS="emphasis"
><I
CLASS="emphasis"
>Setting up search.cgi</I
></SPAN
>
			</P
>
			<P
>Copy the file
<TT
CLASS="filename"
>/usr/local/mnoGoSearch/bin/search.cgi</TT
> to
<TT
CLASS="filename"
>apache_root/cgi-bin/search.cgi</TT
>. Then add two
lines to apache's <TT
CLASS="filename"
>http.conf</TT
> file:</P
>

			<P
CLASS="literallayout"
><br>
SetEnv&nbsp;ORACLE_HOME&nbsp;/oracle8/app/oracle/product/8.0.5<br>
PassEnv&nbsp;ORACLE_HOME<br>
</P
>
			<P
>Correct the
<TT
CLASS="filename"
>search.htm</TT
> to provide DBName, DBUser, DBPass
information. <TT
CLASS="filename"
>search.cgi</TT
> should work now. </P
>

		</DIV
>
	</DIV
>
</DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="dpsearch-searchd.ru.html"
ACCESSKEY="P"
>&#1055;&#1088;&#1077;&#1076;.</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.ru.html"
ACCESSKEY="H"
>&#1053;&#1072;&#1095;&#1072;&#1083;&#1086;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="dpsearch-subsections.ru.html"
ACCESSKEY="N"
>&#1057;&#1083;&#1077;&#1076;.</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Поддержка SearchD
<A
NAME="AEN3249"
></A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="dpsearch-howstore.ru.html"
ACCESSKEY="U"
>&#1059;&#1088;&#1086;&#1074;&#1077;&#1085;&#1100; &#1074;&#1099;&#1096;&#1077;</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Подсекции</TD
></TR
></TABLE
></DIV
><!--#include virtual="body-after.html"--></BODY
></HTML
>